Установка и настройка:
	1. Создать пользователя и предоставить необходимые права: 1.Настройка пользователя.sql;
		1.1 Законнектиться под новым пользователем;
	2. Выполнить настройку объектов очереди событий(Объектный тип данных, таблица для событий, очередь, подписчик): 2.Настройка очереди событий(AQ).sql;
	3. Создание функции для генерации, синонима и предоставление привилегий на выполнение пользователю USER: 3.Функция генерации событий.sql;
	4. Создание процедуры для обработки событий и вспомогательных таблиц: 4.Процедура обработки событий.sql;
	5. Для повышения производительности, настройка процедуры формирования параллельных процессов: 5.Процедура Формирования параллельных процессов.sql;
	6. Настройка планировщика DBMS_SCHEDULER и фонового задания: 6.Планировщик заданий.sql 
		6.1 Задать настройки программы (DEFINE_PROGRAM_ARGUMENT):
			- Число событий для одного обработчика N_TRSHLD;
			- Лимит для генерации нового события предупреждения N;
			- Электронная почта отрпавителя v_sender;
			- Электронная почта получателя v_recipients.
		6.2 Для SCHEDULE указать интервал запуска задания: repeat_interval.	
			

Описание:
	1. Для генерации события очереди queue_1, пользователь USER вызывает функцию AQ_ENQUEUE с атрибутами объектного типа:
	   - Идентификатор типа события 1 = Уведомление, 2 = Подтверждение, 3 = Предупреждение
	   - Дата и время начала события;
	   - Длительность события;
	   - Комментарий для события.
	2. В таблицу aq_user.aq_tab помещается сгенерированное сообытие;
	3. Фоновое задание регулярно запускает процедуру AQ_PRL_PRC которая оценивает колчиесвто событий в очереди и, в зависимости от параметра N_TRSHLD указанного в программе AQ_PROGRAM_START, создает требуемое количестов программ для обработки очереди событий, стартующих параллельно(параллельный запуск обеспечивает цепочка планировщика scheduler_chain). При запуске процедуры выполняется удаление цепочки и программ планировщика, созданных предыдущим стартом.
	
	4. Каждый экземпляр созданной программы параллельно запускает процедуру AQ_DEQUEUE для обработки очереди событий, количество обрабатываемых событий одной процедурой ограничено параметрами рассчитанными процедурой AQ_PRL_PRC:	
		- RN_START --ID первой строки;
		- RN_END --ID последней строки.
		
		Алгоритм обработки событий процедурой AQ_DEQUEUE:
			- для событий с типом Уведомление, если длительность больше N(параметр запуска процедуры) cекунд, генерируется новое событие предупреждения для дальнейшей обработки; 
			- события с типом Подтверждение, помещаются в таблицу AQ_CONFIRM, если длительность больше N(параметр запуска процедуры) cекунд, генерируется новое событие предупреждения для дальнейшей обработки; 
			- Предупреждение - помещаются в отаблицу AQ_WARN, бонус – для каждого события с данным типом, отправляется email с помощью пакета UTL_MAIL, заголовок и тело письма содержат информацию о событии, отправитель и получатель задан параметрами программы AQ_PROGRAM_START:
				- v_sender --Электронная почта отрпавителя;
                - v_recipients --Электронная почта получателя.
				
Диагностика:
	Для выполнения диагнистики использовать процедуру AQ_DIAG: ..\Диагностика\AQ_DIAG.sql
	Выполняются следующие проверки:
		- Проверка состояния jobe AQ_JOB
		- Количество ошибок за последний час в таблице all_scheduler_job_run_details
		- Корректность выполнения процеруды AQ_ENQUEUE, для чего записываются тестовые события с параметрами:
				ID=1 TP=1 DURATION=10 TEXT=test_96052821
				ID=2 TP=1 DURATION=11 TEXT=test_96052822
				ID=3 TP=2 DURATION=10 TEXT=test_96052823
				ID=4 TP=2 DURATION=11 TEXT=test_96052824
				ID=5 TP=3 DURATION=10 TEXT=test_96052825
		    Далее проверяется наличие данных событий в таблице AQ_TAB
		- Проверка корректности выполнения процеруды AQ_PRL_PRC, выполняется проверка соответствия числа событий числу обработчиков с учетом параметра N_TRSHLD в программе AQ_PROGRAM_START
		- Проверка корректности выполнения процедуры AQ_DEQUEUE, для чегод выполняется поиск соответствующих тестовых событий в таблицах AQ_WARN и AQ_CONFIRM
	В качестве параметра при выполнении процедуры AQ_DIAG необходимо укзать настроенный интервал запуска job AQ_JOB в секундах.	
				
	